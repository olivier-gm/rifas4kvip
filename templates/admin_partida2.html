<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/static/img/ico.png" type="image/x-icon">
    <title>Partida Admin ¬∑ Rifa 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #181818f5;
            color: #e9ecef;
            min-height: 100vh;
        }

        /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
        .admin-header {
            background-color: #212529;
            border-bottom: 2px solid #454d55;
            padding: 14px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .admin-header img {
            width: 36px;
            height: 36px;
            object-fit: contain;
        }

        .admin-header h1 {
            font-size: 1.15rem;
            font-weight: 700;
            margin: 0;
            color: #fff;
            letter-spacing: 0.4px;
        }

        .badge-admin {
            font-size: 0.68rem;
            background: #4caf50;
            color: #000;
            padding: 2px 8px;
            border-radius: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .badge-rifa2 {
            font-size: 0.68rem;
            background: #1565c0;
            color: #fff;
            padding: 2px 8px;
            border-radius: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        /* ‚îÄ‚îÄ Contenedor central ‚îÄ‚îÄ */
        .form-wrap {
            max-width: 520px;
            margin: 0 auto;
            padding: 0 16px 50px;
        }

        /* ‚îÄ‚îÄ Tarjeta de estado ‚îÄ‚îÄ */
        .status-card {
            background-color: #212529;
            border: 1px solid #454d55;
            border-radius: 10px;
            padding: 20px 22px;
            margin-bottom: 24px;
        }

        .status-card .card-title {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #6c757d;
            margin-bottom: 14px;
        }

        .status-card p {
            font-size: 0.9rem;
            color: #ced4da;
            margin-bottom: 8px;
            display: flex;
            gap: 6px;
        }

        .status-card p:last-child {
            margin-bottom: 0;
        }

        .status-card strong {
            color: #fff;
            min-width: 170px;
            display: inline-block;
        }

        .status-badge {
            display: inline-block;
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.78rem;
            font-weight: 700;
            background: #4caf50;
            color: #000;
        }

        /* ‚îÄ‚îÄ Labels de secci√≥n ‚îÄ‚îÄ */
        .section-label {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #6c757d;
            margin-bottom: 12px;
            margin-top: 4px;
        }

        /* ‚îÄ‚îÄ Botones r√°pidos ‚îÄ‚îÄ */
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 22px;
        }

        .btn-quick {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: opacity 0.2s, transform 0.15s;
        }

        .btn-quick:hover {
            opacity: 0.85;
            transform: translateY(-1px);
        }

        .btn-reiniciar {
            background-color: #b45309;
            color: #fff;
        }

        .btn-desplazar {
            background-color: #374151;
            color: #e9ecef;
            border: 1px solid #454d55;
        }

        /* ‚îÄ‚îÄ Botones venta ‚îÄ‚îÄ */
        .venta-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn-venta {
            flex: 1;
            padding: 11px;
            border: none;
            border-radius: 8px;
            font-size: 0.88rem;
            font-weight: 700;
            cursor: pointer;
            transition: opacity 0.2s, transform 0.15s;
        }

        .btn-venta:hover {
            opacity: 0.85;
            transform: translateY(-1px);
        }

        .btn-start {
            background-color: #1565c0;
            color: #fff;
        }

        .btn-stop {
            background-color: #d32f2f;
            color: #fff;
        }

        /* ‚îÄ‚îÄ Inputs ‚îÄ‚îÄ */
        .form-group {
            margin-bottom: 14px;
        }

        .form-group label {
            display: block;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #6c757d;
            margin-bottom: 6px;
        }

        .form-group input,
        .form-group .form-control {
            width: 100%;
            padding: 10px 14px;
            font-size: 0.92rem;
            border: 1px solid #373b3e;
            border-radius: 8px;
            background-color: #212529;
            color: #e9ecef;
            outline: none;
            transition: border-color 0.18s;
        }

        .form-group input:focus,
        .form-group .form-control:focus {
            border-color: #4caf50;
            box-shadow: none;
        }

        .form-group input::placeholder {
            color: #555;
        }

        .form-group input[type="file"] {
            padding: 8px 10px;
            cursor: pointer;
        }

        /* Imagen actual */
        .current-img-wrap {
            text-align: center;
            margin-bottom: 18px;
        }

        .current-img-wrap p {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #6c757d;
            margin-bottom: 8px;
        }

        .current-img-wrap img {
            max-width: 50%;
            height: auto;
            border-radius: 10px;
            border: 1px solid #373b3e;
        }

        /* ‚îÄ‚îÄ Bot√≥n guardar ‚îÄ‚îÄ */
        .btn-submit {
            width: 100%;
            padding: 13px;
            background-color: #4caf50;
            color: #000;
            border: none;
            border-radius: 9px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.15s;
            margin-top: 4px;
        }

        .btn-submit:hover {
            background-color: #388e3c;
            transform: translateY(-1px);
        }

        hr.sep {
            border: none;
            border-top: 1px solid #2a2a2a;
            margin: 20px 0;
        }
    </style>
</head>

<body>

    <div class="admin-header">
        <img src="/static/img/ico.png" alt="Logo">
        <h1>Configuraci√≥n de Partida</h1>
        <span class="badge-admin">ADMIN</span>
        <span class="badge-rifa2">RIFA 2</span>
    </div>

    <div class="form-wrap">

        <!-- Estado actual -->
        <div class="status-card">
            <div class="card-title">üìä Estado actual</div>
            <p><strong>Estado:</strong> <span class="status-badge">{{ datos.estatus }}</span></p>
            <p><strong>Fecha de la rifa:</strong> {{ datos.venta }}</p>
            <p><strong>Premio:</strong> {{ datos.recompensa }}</p>
            <p><strong>Precio bol√≠vares:</strong> {{ datos.precio_de_ticket }} Bs</p>
            <p><strong>Precio zelle:</strong> {{ datos.precio_dolar }} $</p>
            <p><strong>Correo zelle:</strong> {{ datos.zelle }}</p>
            <p><strong>M√≠nimo de tickets:</strong> {{ datos.minima_ticket_regalo }}</p>
        </div>

        <!-- Acciones r√°pidas -->
        <p class="section-label">Acciones de disponibilidad</p>
        <div class="quick-actions">
            <form action="/2/admin/dashboard/partida/reiniciar" method="POST" style="flex:1;margin:0;">
                <button type="submit" class="btn-quick btn-reiniciar w-100">üîÑ Reiniciar disponibilidad</button>
            </form>
            <form action="/2/admin/dashboard/partida/desplazar" method="POST" style="flex:1;margin:0;">
                <button type="submit" class="btn-quick btn-desplazar w-100">‚ÜîÔ∏è Desplazar</button>
            </form>
        </div>

        <!-- Formulario principal -->
        <form method="POST" enctype="multipart/form-data">

            <!-- Control de venta -->
            <p class="section-label">Control de venta</p>
            <div class="venta-actions">
                <button type="submit" class="btn-venta btn-start" name="action" value="Venta en curso">‚ñ∂Ô∏è Empezar
                    venta</button>
                <button type="submit" class="btn-venta btn-stop" name="action" value="Venta finalizada">‚èπ Finalizar
                    venta</button>
            </div>

            <hr class="sep">

            <!-- Imagen -->
            <div class="form-group">
                <label for="imagen">Subir imagen de portada</label>
                <input type="file" class="form-control" id="imagen" name="imagen" accept=".png,.jpg,.jpeg">
            </div>
            <div class="current-img-wrap">
                <p>Imagen actual</p>
                <img src="{{ url_for('static', filename='img/partida2.jpg') }}" alt="Imagen actual">
            </div>

            <hr class="sep">

            <!-- Datos editables -->
            <p class="section-label">Datos de la rifa</p>

            <div class="form-group">
                <label for="fechaEnunciado">Fecha de la rifa</label>
                <input type="text" id="fechaEnunciado" name="fechaEnunciado" placeholder="Ej: 15/03/2025"
                    value="{{ datos.venta }}">
            </div>
            <div class="form-group">
                <label for="recompensa">Premio</label>
                <input type="text" id="recompensa" name="recompensa" placeholder="Describe el premio"
                    value="{{ datos.recompensa }}">
            </div>
            <div class="form-group">
                <label for="precioTicket">Precio del ticket (Bs)</label>
                <input type="number" id="precioTicket" name="precioTicket" placeholder="Precio en bol√≠vares"
                    value="{{ datos.precio_de_ticket }}">
            </div>
            <div class="form-group">
                <label for="precioTicketD">Precio del ticket ($)</label>
                <input type="number" id="precioTicketD" name="precioTicket$" placeholder="Precio en d√≥lares"
                    value="{{ datos.precio_dolar }}">
            </div>
            <div class="form-group">
                <label for="zelle">Correo Zelle</label>
                <input type="email" id="zelle" name="zelle" placeholder="correo@ejemplo.com" value="{{ datos.zelle }}">
            </div>
            <div class="form-group">
                <label for="tipoTicket">Cantidad m√≠nima de tickets</label>
                <input type="number" min="1" max="9999" id="tipoTicket" name="tipoTicket"
                    placeholder="M√≠nimo permitido">
            </div>

            <button type="submit" class="btn-submit">üíæ Guardar cambios</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-jBq8dLDry3nJ8tyDk5bxUQwF1XZUjZlZFS8SSek0bpKPIqjPY/z2QkI9rxfnzTMq"
        crossorigin="anonymous"></script>
</body>

</html>